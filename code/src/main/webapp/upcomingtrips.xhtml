<ui:composition template="/resources/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                >
    <ui:param name ="tabIndex" value="3"/>
    <ui:define name="content">
    <h:form id="form">
        <p:panelGrid style="border-style: none;">
        <p:row>
        <p:column style="padding:1em">
            <h:outputText value="Upcoming Trips" style="font-size: 30px; font-style: italic;"/>
        <p:dataTable var="tr" value="#{tripMB.upcomingTrips}">
            <p:column style="width: 80px;">
                <p:graphicImage url="#{userMB.getUrlOfSmallPicture(tr.traveller.id)}" width="80" height="80"/>
            </p:column>
            <p:column headerText="Traveller">
                <h:outputText value="#{tr.traveller.name} (a.k.a. #{tr.traveller.nickname})"/>
            </p:column>
            <p:column headerText="Destination">
                <h:outputText value="#{tr.dest}"/>
            </p:column>
            <p:column headerText="Departure Date">
                <h:outputText value="#{tripMB.dateToString(tr.departure_date)}"/>
            </p:column>
            <p:column style="width: 155px;">
                <p:button outcome="createrequest" value="Add Request">
                    <f:param name="tripId" value="#{tr.id}"/>
                </p:button>
            </p:column>
        </p:dataTable>
        </p:column>
        </p:row>
        </p:panelGrid>
    </h:form>
    </ui:define>
</ui:composition>
